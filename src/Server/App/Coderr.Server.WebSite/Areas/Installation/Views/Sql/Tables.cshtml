@{ ViewBag.Title = "Tables"; }

<div class="container">
    <div class="col-lg-12">
        <h2>Tables</h2>

        <p>It's time to install all the tables. Keep your fingers crossed and press "Create Tables"</p>

        @if (ViewBag.GotTables)
        {
            <div class="alert alert-info">
                Tables have already been added/updated.
            </div>
            @Html.Raw(ViewBag.PrevLink)
            @Html.Raw(ViewBag.NextLink) }
        else
        {
            <form method="post" action="@Url.Action("Tables")" id="myForm">
                @Html.ValidationSummary(true)
                <input type="hidden" name="go" value="yo" />
                @Html.Raw(ViewBag.PrevLink)
                <button type="submit" class="btn-primary btn">Create Tables</button>
                @Html.Raw(ViewBag.NextLink)
            </form>}
        @if (ViewBag.GotException)
        {
            <h2>Error details</h2>
            <div>
                <pre>@ViewBag.FullException
</pre>
            </div>}
    </div>
</div>
@section scripts
{
    <partial name="_JQueryReplacement" />
    <script>
        $('#myForm').click(function () {
            if (elemExists('[data-name="nextLink"]')) {
                $('[data-name="nextLink"]').addClass("disabled");
            }
            $('[type="submit"]').addClass("disabled");
        });


    </script>
}
